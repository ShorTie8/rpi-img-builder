diff -Naur a/scripts/package/builddeb b/scripts/package/builddeb
--- a/scripts/package/builddeb	2020-04-27 08:54:55.000000000 -0400
+++ b/scripts/package/builddeb	2020-04-27 15:26:43.999999137 -0400
@@ -82,6 +82,26 @@
 
 	mkdir -p $pdir/lib/modules/$version/
 	ln -s /usr/src/linux-headers-$version $pdir/lib/modules/$version/build
+	cp headers-byteshift.patch $destdir/
+	(cd $destdir; patch -p1 < headers-byteshift.patch)
+	rm -f $destdir/headers-byteshift.patch
+
+	# make scripts - thanx armbian
+	mkdir -p $destdir/DEBIAN
+	cat > $destdir/DEBIAN/postinst <<EOT
+#!/bin/sh
+# compile headers
+
+set -e
+cd /usr/src/linux-headers-$version
+echo "Compiling headers"
+find -type f -exec touch {} +
+make -s scripts >/dev/null
+make -s M=scripts/mod/ >/dev/null
+exit 0
+EOT
+
+        chmod 755 $destdir/DEBIAN/postinst
 }
 
 deploy_libc_headers () {
@@ -102,7 +122,7 @@
 version=$KERNELRELEASE
 tmpdir=debian/linux-image
 dbg_dir=debian/linux-image-dbg
-packagename=linux-image-$version
+packagename=raspberrypi-linux-image
 dbg_packagename=$packagename-dbg
 
 if [ "$ARCH" = "um" ] ; then
@@ -139,6 +159,7 @@
 else
 	cp System.map "$tmpdir/boot/System.map-$version"
 	cp $KCONFIG_CONFIG "$tmpdir/boot/config-$version"
+	cp arch/arm64/boot/Image "$tmpdir/boot/kernel8.img"
 fi
 cp "$($MAKE -s -f $srctree/Makefile image_name)" "$tmpdir/$installed_image_path"
 
@@ -176,6 +197,11 @@
 	fi
 fi
 
+# install dtb and overlays
+mkdir -p "$tmpdir/boot/broadcom/overlays"
+cp -r "$tmpdir/usr/lib/raspberrypi-linux-image/broadcom/bcm2711-rpi-4-b.dtb" "$tmpdir/boot/broadcom/bcm2711-rpi-4-b.dtb"
+cp -r "$tmpdir/usr/lib/raspberrypi-linux-image/overlays/" "$tmpdir/boot/broadcom/"
+
 # Install the maintainer scripts
 # Note: hook scripts under /etc/kernel are also executed by official Debian
 # kernel packages, as well as kernel packages built using make-kpkg.
@@ -201,6 +227,36 @@
 	chmod 755 "$tmpdir/DEBIAN/$script"
 done
 
+       # remove kernel
+        cat > $tmpdir/DEBIAN/preinst <<EOT
+#!/bin/sh
+# if found purge kernel bits
+
+set -e
+
+if ls /boot/broadcom/ 2>/dev/null; then rm -fdr /boot/broadcom;
+        else echo "Missing broadcom directory." &>/dev/null;
+fi
+
+if ls /boot/System.map-* 2>/dev/null; then rm -f /boot/System.map-*;
+        else echo "Missing System.map file." &>/dev/null;
+fi
+
+if ls /boot/config-* 2>/dev/null; then rm -f /boot/config-*;
+        else echo "Missing config file." &>/dev/null;
+fi
+
+if ls /boot/vmlinuz-* 2>/dev/null; then rm -f /boot/vmlinuz-*;
+        else echo "Missing vmlinuz file." &>/dev/null;
+fi
+
+if ls /boot/kernel* 2>/dev/null; then rm -f /boot/kernel*;
+        else echo "Installing new kernel." &>/dev/null;
+fi
+exit 0
+EOT
+        chmod 755 $tmpdir/DEBIAN/preinst
+
 if [ "$ARCH" != "um" ]; then
 	deploy_kernel_headers debian/linux-headers
 	create_package linux-headers-$version debian/linux-headers
diff -Naur a/scripts/package/mkdebian b/scripts/package/mkdebian
--- a/scripts/package/mkdebian	2020-04-27 08:54:55.000000000 -0400
+++ b/scripts/package/mkdebian	2020-04-27 14:59:40.000000000 -0400
@@ -94,7 +94,7 @@
 	packageversion=$version-$revision
 fi
 sourcename=$KDEB_SOURCENAME
-packagename=linux-image-$version
+packagename=raspberrypi-linux-image
 kernel_headers_packagename=linux-headers-$version
 dbg_packagename=$packagename-dbg
 debarch=
